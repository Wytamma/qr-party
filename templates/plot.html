

<div id="example2.1" style="height: 200px;"></div>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

<script type="text/javascript">
  google.charts.load("current", {packages:["timeline"]});
  google.charts.setOnLoadCallback(drawChart);
  function drawChart() {
    var container = document.getElementById('example2.1');
    var chart = new google.visualization.Timeline(container);
    var dataTable = new google.visualization.DataTable();

    dataTable.addColumn({ type: 'string', id: 'Term' });
    dataTable.addColumn({ type: 'string', id: 'Name' });
    dataTable.addColumn({ type: 'date', id: 'Start' });
    dataTable.addColumn({ type: 'date', id: 'End' });

    dataTable.addRows([
    {% for guest in guests %}
      ['{{ guest.id }}', 
      '{{ guest.name }}', 
      new Date({{ guest.time_in.year }}, 
        {{ guest.time_in.month - 1 }}, 
        {{ guest.time_in.day }}, 
        {{ guest.time_in.hour }}, 
        {{ guest.time_in.minute }}, 
        {{ guest.time_in.second }}
        ),
      {% if guest.at_party %} 
      new Date()
      {% else %}
      new Date({{ guest.time_out.year }}, 
        {{ guest.time_out.month - 1 }}, 
        {{ guest.time_out.day }}, 
        {{ guest.time_out.hour }}, 
        {{ guest.time_out.minute }}, 
        {{ guest.time_out.second }}
        )
      {% endif %}
      ],
    {% endfor %}
    ]);
    
    chart.draw(dataTable);
  }
</script>